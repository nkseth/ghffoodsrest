(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4104],{7741:function(t,e,i){"use strict";i.d(e,{D:function(){return U}});var r,n=i(70655),a=i(82517),o=i(61765),s=i(39866),d=i(70780),l=i(87155),p=i(3485),u=i(25449),h=i(43738),c=i(47573),m=i(8207),f=i(95889),g=i(86820),y=i(69260),v=i(99934),b=i(43281),F=i(16473),x=i(59205),w=i(2431),S=i(24306),_=i(17738),O=i(80008),C=i(36442),E=i(64112),R=i(71473);var P=/src: ([^;]+);/;function T(t){return(0,n.mG)(this,void 0,void 0,(function(){var e;return(0,n.Jh)(this,(function(i){switch(i.label){case 0:e=t.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,e.cssRules];case 2:return i.sent(),[4,new Promise((function(i,r){t.addEventListener("load",(function(){i(e.cssRules)}),!0),t.addEventListener("error",(function(t){r(t)}),!0),setTimeout((function(){r(new Error("Timeout while waiting for <style> to load"))}),1e4)}))];case 3:return[2,i.sent()];case 4:return[2]}}))}))}function D(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,w.z(e)];case 1:return r=n.sent(),[3,3];case 2:return a=n.sent(),console.error("Failed to load stylesheet",e,a),[2];case 3:(o=t.createElement("style")).textContent=r.response,""!=v.Y.nonce&&o.setAttribute("nonce",v.Y.nonce),t.head.appendChild(o),n.label=4;case 4:return n.trys.push([4,,7,8]),[4,T(o)];case 5:return s=n.sent(),[4,j(t,e,s,i)];case 6:return n.sent(),[3,8];case 7:return t.head.removeChild(o),[7];case 8:return[2]}}))}))}function j(t,e,i,r){return(0,n.mG)(this,void 0,void 0,(function(){var a,o,s,d,l;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:for(a=[],o=i.length,s=0;s<o;s++)(d=i[s]).type===CSSRule.IMPORT_RULE?(l=d.href)&&(l=O.pv(e,l),a.push(D(t,l,r))):r(e,d);return a.length?[4,Promise.all(a)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}function A(t){return(0,n.mG)(this,void 0,void 0,(function(){var e,i;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:(e=document.createElement("iframe")).src="about:blank",e.setAttribute("title",""),document.head.appendChild(e),r.label=1;case 1:return r.trys.push([1,,3,4]),i=e.contentDocument,[4,Promise.all(C.UI(document.styleSheets,(function(e){var r=e.href;return null==r?j(i,location.href,e.cssRules,t):(r=O.pv(location.href,r),D(i,r,t))})))];case 2:return r.sent(),[3,4];case 3:return document.head.removeChild(e),[7];case 4:return[2]}}))}))}var U=function(t){function e(e){var i=t.call(this)||this;return i.adapter=new o.L1(i),i._formatOptions=new p.Xy,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new l.aV,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",(function(t){var e=i._formatOptions.getKey(t.type);return t.options?t.options=x.TS(e,t.options):t.options=e,t})),i.applyTheme(),i.dispatchImmediately("inited"),i}return(0,n.ZT)(e,t),Object.defineProperty(e.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;this._menu&&this.removeDispose(this._menu),this._menu=t,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",(function(t){return t.branch.unsupported=!e.typeSupported(t.branch.type),t})),this._menu.events.on("hit",(function(t){e.export(t.branch.type,t.branch.options),e.menu.close()})),this._menu.events.on("enter",(function(t){e.export(t.branch.type,t.branch.options),e.menu.close()})),this._menu.events.on("over",(function(t){e._disablePointers()})),this._menu.events.on("out",(function(t){setTimeout((function(){e._releasePointers()}),10)})),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",(function(t){return t.classPrefix=v.Y.classNamePrefix+t.classPrefix,t})),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),e.prototype.typeSupported=function(t){var e=!0,i=this.getFormatOptions(t);return S.Uh(i)&&i.disabled?e=!1:"pdf"===t||("xlsx"===t?e=!!this._hasData():("print"!=t||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(t)||this._hasData())||(e=!1)),this.adapter.apply("supported",{supported:e,type:t}).supported},e.prototype._hasData=function(){return this.data&&this.data.length},e.prototype._getFunction=function(t){switch(t){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},e.prototype.export=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){var i,r,a,o,s,d=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return"custom"==t?(this.handleCustom(e),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(i={type:"exportstarted",target:this,format:t,options:e},this.events.dispatchImmediately("exportstarted",i)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout((function(){if(d.events.isEnabled("exporttimedout")){var i={type:"exporttimedout",target:d,format:t,options:e};d.events.dispatchImmediately("exporttimedout",i)}d.showTimeout()}),this.timeoutDelay)),this.hideNonExportableSprites(),r=this._getFunction(t),e=this.adapter.apply("options",{options:e,type:t}).options,[4,(r=this.adapter.apply("exportFunction",{func:r,type:t,options:e}).func).call(this,t,e)]);case 1:return a=n.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),a?(this.events.isEnabled("exportfinished")&&(o={type:"exportfinished",target:this,format:t,options:e},this.events.dispatchImmediately("exportfinished",o)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===t?[2,this.print(a,e,this.adapter.apply("title",{title:this.title,options:e}).title)]:"pdfdata"==t?[2,this.download(a,this.filePrefix+".pdf")]:[2,this.download(a,this.filePrefix+"."+t)]):(this.events.isEnabled("error")&&(s={type:"error",target:this,format:t,options:e},this.events.dispatchImmediately("error",s)),[2,!1])}}))}))},e.prototype.unsupported=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){return[2,""]}))}))},e.prototype.handleCustom=function(t){S.Uh(t)&&S.Uh(t.callback)&&t.callback.call(t.callbackTarget||this,t)},e.prototype.getPrint=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){return[2,this.getImage("png",e)]}))}))},e.prototype.getFontFamilies=function(){return(0,n.mG)(this,void 0,void 0,(function(){var t,e,i,r,a=this;return(0,n.Jh)(this,(function(o){switch(o.label){case 0:return t=this.getDOMURL(),e=[],i=[],[4,A((function(r,o){if(o.type===CSSRule.FONT_FACE_RULE){var s=o.cssText,d=P.exec(s);if(null!==d){var l=d[1].split(/ *, */).map((function(i){return(0,n.mG)(a,void 0,void 0,(function(){var a,o,s,d,l,p;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return null!==(a=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(i))?[3,1]:[2,i];case 1:if(o=a[2],s=O.pv(r,a[1]),this.webFontFilter&&!s.match(this.webFontFilter))return[2,null];n.label=2;case 2:return n.trys.push([2,7,,8]),[4,w.z(s,void 0,{responseType:"blob"})];case 3:return d=n.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(l=t.createObjectURL(d.blob),e.push(l),[3,6]);case 4:return[4,(u=d.blob,new Promise((function(t,e){var i=new FileReader;i.onload=function(e){t(i.result)},i.onerror=function(t){e(t)},i.readAsDataURL(u)})))];case 5:l=n.sent(),n.label=6;case 6:return[2,'url("'+l+'")'+o];case 7:return p=n.sent(),console.error("Failed to load font",s,p),[2,null];case 8:return[2]}var u}))}))}));i.push(Promise.all(l).then((function(t){return 0===(t=t.filter((function(t){return null!=t}))).length?"":s.replace(P,"src: "+t.join(", ")+";")})))}}}))];case 1:return o.sent(),[4,Promise.all(i)];case 2:return r=o.sent(),[2,{blobs:e,cssText:r.filter((function(t){return!!t})).join("\n")}]}}))}))},e.prototype.getImage=function(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s,d;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),S.Uh(e)||(e=this.getFormatOptions(t)),[4,this.awaitValidSprites()];case 1:return n.sent(),[4,this.simplifiedImageExport()];case 2:if(!n.sent())return[3,10];a=void 0,n.label=3;case 3:return n.trys.push([3,7,,9]),[4,this.getCanvas(e)];case 4:return a=n.sent(),!1===i?[3,6]:[4,this.addExtras(a,e)];case 5:a=n.sent(),n.label=6;case 6:return o=a.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(a),r||this.restoreNonExportableSprites(),[2,o];case 7:return s=n.sent(),console.error(s.message+"\n"+s.stack),_.Z("Simple export failed, falling back to advanced export"),a&&this.disposeCanvas(a),[4,this.getImageAdvanced(t,e,i)];case 8:return d=n.sent(),r||this.restoreNonExportableSprites(),[2,d];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(t,e,i)];case 11:return d=n.sent(),r||this.restoreNonExportableSprites(),[2,d];case 12:return[2]}}))}))},e.prototype.addExtras=function(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,d,l,p,u,h,c,m,f,g,y,v,b=this;return(0,n.Jh)(this,(function(F){switch(F.label){case 0:return this.extraSprites.length?(r=0,a=0,o=t.width,d=t.height,l=0,p=0,[4,Promise.all(C.UI(this.extraSprites,(function(t){return(0,n.mG)(b,void 0,void 0,(function(){var u,h,c,m;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(u=t instanceof s.jy?{sprite:t,position:"bottom"}:t).position=u.position||"bottom",u.marginTop=u.marginTop||0,u.marginRight=u.marginRight||0,u.marginBottom=u.marginBottom||0,u.marginLeft=u.marginLeft||0,i?[4,u.sprite.exporting.getCanvasAdvanced(e)]:[3,2];case 1:return h=n.sent(),[3,4];case 2:return[4,u.sprite.exporting.getCanvas(e)];case 3:h=n.sent(),n.label=4;case 4:return c=h.width+u.marginLeft+u.marginRight,m=h.height+u.marginTop+u.marginBottom,"top"==u.position?(o=u.crop?d:E.Fp(o,c),a+=m):"right"==u.position?(d=u.crop?d:E.Fp(d,m),l+=c):"left"==u.position?(d=u.crop?d:E.Fp(d,m),r+=c):"bottom"===u.position&&(o=u.crop?d:E.Fp(o,c),p+=m),[2,{canvas:h,position:u.position,left:u.marginLeft,top:u.marginTop,width:c,height:m}]}}))}))})))]):[3,2];case 1:return u=F.sent(),(h=this.getDisposableCanvas()).width=r+o+l,h.height=a+d+p,c=h.getContext("2d"),(m=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(c.fillStyle=m.toString(),c.fillRect(0,0,h.width,h.height)),y=(f=r)+o,v=(g=a)+d,C.S6(u,(function(t){"top"==t.position?(g-=t.height,c.drawImage(t.canvas,r+t.left,g+t.top)):"right"==t.position?(c.drawImage(t.canvas,y+t.left,a+t.top),y+=t.width):"left"==t.position?(f-=t.width,c.drawImage(t.canvas,f+t.left,a+t.top)):"bottom"===t.position&&(c.drawImage(t.canvas,r+t.left,v+t.top),v+=t.height),b.disposeCanvas(t.canvas)})),c.drawImage(t,r,a),[2,h];case 2:return[2,t]}}))}))},e.prototype.getCanvas=function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e,i,r,a,o,s,d,l,p,u,h,c,m,f,g,y,v;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:S.Uh(t)||(t={}),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),i=this.getDOMURL(),r=null,a=null,n.label=1;case 1:return n.trys.push([1,,4,5]),s=this.sprite.pixelWidth,d=this.sprite.pixelHeight,l=b.gR(this.sprite.dom),p=b.w(this.sprite.dom),u=t.scale||1,h=this.getPixelRatio(t),u=this.getAdjustedScale(s*h,d*h,u,t),(o=this.getDisposableCanvas()).style.width=s*u+"px",o.style.height=d*u+"px",o.width=s*u,o.height=d*u,c=o.getContext("2d"),e&&(c.fillStyle=e.toString(),c.fillRect(0,0,s*u,d*u)),m=[],this.useWebFonts&&m.push(this.getFontFamilies().then((function(t){return a=t.blobs,t.cssText}))),m.push(this.imagesToDataURI(this.sprite.dom,t)),m.push(this.prepForeignObjects(this.sprite.dom,t)),[4,Promise.all(m)];case 2:return f=n.sent(),g=this.normalizeSVG("<style>"+f[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,s,d,u,l,p),y=new Blob([g],{type:"image/svg+xml"}),r=i.createObjectURL(y),[4,this.loadNewImage(r,s*u*h,d*u*h,"anonymous")];case 3:return v=n.sent(),c.drawImage(v,0,0),[3,5];case 4:return null!==r&&i.revokeObjectURL(r),null!==a&&C.S6(a,(function(t){i.revokeObjectURL(t)})),this.restoreRemovedObjects(),[7];case 5:return[2,o]}}))}))},e.prototype.getCanvasAdvanced=function(t){return(0,n.mG)(this,void 0,void 0,(function(){var e,i,r,a,o,s,d,l,p,u,h;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return S.Uh(t)||(t={}),[4,this.imagesToDataURI(this.sprite.dom,t)];case 1:return n.sent(),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return i=n.sent(),r=this.sprite.pixelWidth,a=this.sprite.pixelHeight,o=b.gR(this.sprite.dom),s=b.w(this.sprite.dom),d=t.scale||1,l=this.getPixelRatio(t),d=this.getAdjustedScale(r*l,a*l,d,t),p=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,r,a,d,o,s,e),(u=this.getDisposableCanvas()).style.width=r*l*d+"px",u.style.height=a*l*d+"px",u.width=r*l*d,u.height=a*l*d,h={useCORS:!0},1!=l&&(h.ignoreDimensions=!0,h.scaleWidth=r*l*d,h.scaleHeight=a*l*d),[4,i.fromString(u.getContext("2d"),p,h).render()];case 3:return n.sent(),[2,u]}}))}))},e.prototype.getImageAdvanced=function(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),S.Uh(e)||(e=this.getFormatOptions(t)),[4,this.getCanvasAdvanced(e)];case 1:return a=n.sent(),!1===i?[3,3]:[4,this.addExtras(a,e,!0)];case 2:a=n.sent(),n.label=3;case 3:return o=a.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(a),r||this.restoreNonExportableSprites(),[2,o]}}))}))},e.prototype.getDisposableCanvas=function(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",document.body.appendChild(t),t},e.prototype.disposeCanvas=function(t){document.body.removeChild(t)},e.prototype.getPixelRatio=function(t){return this.useRetina?O.mX():1},e.prototype.getAdjustedScale=function(t,e,i,r){if(!r)return i;var n,a,o=t*i,s=t*i;return r.maxWidth&&o>r.maxWidth&&(n=r.maxWidth/t),r.maxHeight&&s>r.maxHeight&&(a=r.maxHeight/e),n||a?E.VV(n,a):(r.minWidth&&o<r.minWidth&&(n=r.minWidth/t),r.minHeight&&s<r.minHeight&&(a=r.minHeight/e),n||a?E.Fp(n,a):i)},e.prototype.imagesToDataURI=function(t,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s,d,l;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(!(r=t.querySelectorAll("image")).length)return[3,2];for(a=[],o=r.length,s=0;s<o;s++)d=r[s],(l=d.getAttributeNS(e.XLINK,"href"))&&(-1!==l.indexOf("data:image")||(-1!==l.indexOf(".svg")?a.push(this.svgToDataURI(d,i)):a.push(this.imageToDataURI(d,i))));return[4,Promise.all(a)];case 1:return n.sent(),[2];case 2:return[2]}}))}))},e.prototype.prepForeignObjects=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){var e,i,r;return(0,n.Jh)(this,(function(n){if((e=t.querySelectorAll("foreignObject")).length)for(i=e.length,r=0;r<i;r++)this.temporarilyRemoveObject(e[r]);return[2]}))}))},e.prototype.imageToDataURI=function(t,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.loadNewImage(t.getAttributeNS(e.XLINK,"href"),null,null,"anonymous")];case 1:r=n.sent(),(a=document.createElement("canvas")).width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0);try{return o=a.toDataURL(),t.setAttribute("href",o),[2,o]}catch(s){return!1!==i.keepTainted&&this.temporarilyRemoveObject(t),[2,void 0]}return[3,3];case 2:return n.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 3:return[2]}}))}))},e.prototype.svgToDataURI=function(t,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:r=t.getAttributeNS(e.XLINK,"href"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,w.z(r)];case 2:return a=n.sent(),o=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,s=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+o+","+btoa(a.response),options:i}).data,t.setAttributeNS(e.XLINK,"href",s),[2,s];case 3:return n.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 4:return[2]}}))}))},e.prototype.temporarilyRemoveObject=function(t,e){var i=t.parentElement||t.parentNode;e||(e=this.sprite.paper.add("g").node),i.insertBefore(e,t),t.textContent,i.removeChild(t),this._removedObjects.push({element:t,placeholder:e})},e.prototype.restoreRemovedObjects=function(){for(var t;t=this._removedObjects.pop();){(t.placeholder.parentElement||t.placeholder.parentNode).insertBefore(t.element,t.placeholder)}},e.prototype.simplifiedImageExport=function(){return(0,n.mG)(this,void 0,void 0,(function(){var t,e,i,r,a,o,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(t=y.i.getCache("simplifiedImageExport"))||!0===t)return[2,t];n.label=1;case 1:n.trys.push([1,6,,7]),(e=document.createElement("canvas")).width=1,e.height=1,i=e.getContext("2d"),r=this.getDOMURL(),a=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),o=r.createObjectURL(a),s=void 0,n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.loadNewImage(o,1,1)];case 3:return s=n.sent(),[3,5];case 4:return n.sent(),[2,!1];case 5:i.drawImage(s,0,0),r.revokeObjectURL(o);try{return y.i.setCache("simplifiedImageExport",!0),[2,!0]}catch(d){return y.i.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return n.sent(),y.i.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}}))}))},e.prototype.loadNewImage=function(t,e,i,r){return new Promise((function(n,a){var o;function s(){if(r){var e=o.src;o.onerror=function(){a(new Error('Loading image "'+t+'" failed'))},o.removeAttribute("crossorigin"),o.src="",o.src=e}else a(new Error('Loading image "'+t+'" failed'))}o=e&&i?new Image(e,i):new Image,r&&o.setAttribute("crossOrigin",r),o.onload=function(){n(o)},o.onabort=s,o.onerror=s,o.src=t}))},e.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},e.prototype.getSVG=function(t,e,i){return void 0===i&&(i=!0),(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s,d,l,p,u,h,c;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),S.Uh(e)||(e=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return n.sent(),a=this.sprite.pixelWidth,o=this.sprite.pixelHeight,s=b.gR(this.sprite.dom),d=b.w(this.sprite.dom),l=e.scale||1,p=this.getPixelRatio(e),l=this.getAdjustedScale(a*p,o*p,l,e),u=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,a,o,l,s,d),h=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:e}).charset,c=this.adapter.apply("getSVG",{data:i?"data:"+this.getContentType(t)+";"+h+","+encodeURIComponent(u):u,options:e}).data,r||this.restoreNonExportableSprites(),[2,c]}}))}))},e.prototype.normalizeSVG=function(t,e,i,r,n,a,o,s){var d="";i&&(d+='width="'+Math.round(i*(n||1))+'px" '),r&&(d+='height="'+Math.round(r*(n||1))+'px" ');var l="";a&&(l+="font-family: "+a.replace(/"/g,"")+";"),o&&(l+="font-size: "+o+";"),n&&(d+='viewBox="0 0 '+i+" "+r+'" ');var p=[],u=t.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(u)for(var h=0;h<u.length;h++)t=t.replace(u[h],R.l7),p.push(u[h]);t.match(/<svg/)?""!==d&&(t=(t=(t=t.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+d)):t='<?xml version="1.0" encoding="utf-8"?><svg '+d+' style="'+l+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+t+"</svg>",s&&(t=t.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+s.rgba+'"/>')),F.w()&&(t=t.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var c=new RegExp("url\\("+O.UK(O.Lw()),"g");if(t=(t=t.replace(c,"url(#")).replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),p.length)for(h=0;h<p.length;h++)t=t.replace(R.l7,p[h]);return t=this.adapter.apply("normalizeSVG",{data:t,options:e}).data},e.prototype.serializeElement=function(t){return(new XMLSerializer).serializeToString(t)},e.prototype.getPDF=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){function i(t){var e={};e.normal=t.normal.path,m[t.normal.path]=t.normal.bytes,t.bold?(e.bold=t.bold.path,m[t.bold.path]=t.bold.bytes):e.bold=t.normal.path,t.italics?(e.italics=t.italics.path,m[t.italics.path]=t.italics.bytes):e.italics=t.normal.path,t.bolditalics?(e.bolditalics=t.bolditalics.path,m[t.bolditalics.path]=t.bolditalics.bytes):e.bolditalics=t.normal.path,c[t.name]=e}var r,a,o,s,d,l,p,u,h,c,m;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getImage(e.imageFormat||"png",e)];case 1:return r=n.sent(),[4,this.pdfmake];case 2:return a=n.sent(),o=[30,30,30,30],s={pageSize:e.pageSize||"A4",pageOrientation:e.pageOrientation||"portrait",pageMargins:e.pageMargins||o,defaultStyle:{font:e.font?e.font.name:void 0},content:[]},d=this.adapter.apply("title",{title:this.title,options:e}).title,l=0,d&&(s.content.push({text:d,fontSize:e.fontSize||14,bold:!0,margin:[0,0,0,15]}),l+=50),e.addURL&&(s.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:e.fontSize,margin:[0,0,0,15]}),l+=50),"pdfdata"!=t&&s.content.push({image:r,alignment:e.align||"left",fit:this.getPageSizeFit(s.pageSize,s.pageMargins,l)}),"pdfdata"==t||e.addData?(u=(p=s.content).push,h={},[4,this.getPDFData("pdf",e)]):[3,4];case 3:u.apply(p,[(h.table=n.sent(),h.fontSize=e.fontSize||14,h)]),n.label=4;case 4:return s=this.adapter.apply("pdfmakeDocument",{doc:s,options:e}).doc,c=null,m=null,e.font&&(c={},m={},i(e.font),e.extraFonts&&C.S6(e.extraFonts,i)),[4,new Promise((function(t,e){a.createPdf(s,null,c,m).getDataUrl((function(e){t(e)}))}))];case 5:return[2,n.sent()]}}))}))},e.prototype.getPDFData=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){var t,i,r,a,o,s,d=this;return(0,n.Jh)(this,(function(n){if(t={body:[]},i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,r=this.data,e.pivot)a=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,x.JE(i,(function(i,n){var a=[];e.addColumnNames&&a.push(n);for(var o=r.length,s=0;s<o;s++){var l=r[s][i];a.push(d.convertToSpecialFormat(i,l,e,!0))}t.body.push(d.getPDFDataRow(a,e,void 0,!0))}),(function(t,e){var i=a.indexOf(t),r=a.indexOf(e);return i>r?1:i<r?-1:0}));else for(e.addColumnNames&&(t.body.push(this.getPDFDataRow(i,e,void 0,!0)),t.headerRows=1),o=r.length,s=0;s<o;s++)t.body.push(this.getPDFDataRow(r[s],e,i));return[2,this.adapter.apply("pdfmakeTable",{table:t,options:e}).table]}))}))},e.prototype.getPDFDataRow=function(t,e,i,r){var n=this;void 0===r&&(r=!1);var a=[];i||(i=t);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return x.JE(i,(function(i,o){var s=n.convertEmptyValue(i,t[i],e),d=r?s:n.convertToSpecialFormat(i,s,e);d=""+d,a.push(d)}),(function(t,e){var i=o.indexOf(t),r=o.indexOf(e);return i>r?1:i<r?-1:0})),a},e.prototype.getPageSizeFit=function(t,e,i){void 0===i&&(i=0);var r=[0,0,0,0];"number"==typeof e?r=[e,e,e,e]:2==e.length?r=[e[0],e[1],e[0],e[1]]:4==e.length&&(r=e);var n={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[t];return n[0]-=r[0]+r[2],n[1]-=r[1]+r[3]+i,n},e.prototype.getExcel=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){var i,r,a,o,s,d,l,p,u,h=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return S.Uh(e)||(e=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(i=n.sent(),r=this.adapter.apply("xlsxWorkbookOptions",{xlsx:i,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,a=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:i,name:this.title||this.language.translate("Data")}).name),o={SheetNames:[a],Sheets:{}},s=[],d=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,e.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,x.JE(d,(function(t,i){var r=[];e.addColumnNames&&r.push(i);for(var n=h.data.length,a=0;a<n;a++){var o=h.data[a][t];r.push(h.convertToSpecialFormat(t,o,e,!0))}s.push(h.getExcelRow(r,e,void 0,!0))}),(function(t,e){var i=l.indexOf(t),r=l.indexOf(e);return i>r?1:i<r?-1:0}));else for(e.addColumnNames&&s.push(this.getExcelRow(d,e,void 0,!0)),p=this.data.length,u=0;u<p;u++)s.push(this.getExcelRow(this.data[u],e,d));return o.Sheets[a]=i.utils.aoa_to_sheet(s),o=this.adapter.apply("xlsxWorkbook",{xlsx:i,workbook:o,options:e}).workbook,[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(t)+";base64,"+i.write(o,r),options:e}).data]}}))}))},e.prototype.normalizeExcelSheetName=function(t){return t=t.replace(/([:\\\/?*\[\]]+)/g," "),O.nA(t,31,"...",!0)},e.prototype.getExcelRow=function(t,e,i,r){var n=this;void 0===r&&(r=!1);var a=[];i||(i=t);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return x.JE(i,(function(i,o){var s=n.convertEmptyValue(i,t[i],e),d=r?s:n.convertToSpecialFormat(i,s,e,!0);a.push(d)}),(function(t,e){var i=o.indexOf(t),r=o.indexOf(e);return i>r?1:i<r?-1:0})),a},e.prototype.getCSV=function(t,e,i){return void 0===i&&(i=!0),(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s,d,l,p,u,h,c=this;return(0,n.Jh)(this,(function(n){if(S.Uh(e)||(e=this.getFormatOptions("csv")),r="",a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,o="",s=this.data,e.pivot)d=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,x.JE(a,(function(t,i){var n=[];e.addColumnNames&&n.push(i);for(var a=s.length,d=0;d<a;d++){var l=s[d][t];n.push(c.convertToSpecialFormat(t,l,e,!0))}r+=o+c.getCSVRow(n,e,void 0,!0),o="\n"}),(function(t,e){var i=d.indexOf(t),r=d.indexOf(e);return i>r?-1:i<r?1:0}));else{for(l=s.length,p=0;p<l;p++)u=this.getCSVRow(s[p],e,a),e.reverse?r=u+o+r:r+=o+u,o="\n";e.addColumnNames&&(r=this.getCSVRow(a,e,void 0,!0)+o+r)}return h=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getCSV",{data:i?"data:"+this.getContentType(t)+";"+h+","+encodeURIComponent(r):r,options:e}).data]}))}))},e.prototype.getCSVRow=function(t,e,i,r){var n=this;void 0===r&&(r=!1);var a=e.separator||",",o=[];i||(i=t);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return x.JE(i,(function(i,s){var d=n.convertEmptyValue(i,t[i],e),l=r?d:n.convertToSpecialFormat(i,d,e);l=(l=""+l).replace(/"/g,'""'),(e.forceQuotes||l.search(new RegExp('"|\n|'+a,"g"))>=0)&&(l='"'+l+'"'),o.push(l)}),(function(t,e){var i=s.indexOf(t),r=s.indexOf(e);return i>r?1:i<r?-1:0})),o.join(a)},e.prototype.getHTML=function(t,e,i){return void 0===i&&(i=!0),(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s,d,l,p,u=this;return(0,n.Jh)(this,(function(n){if(S.Uh(e)||(e=this.getFormatOptions("html")),r="<table>",e.tableClass&&(r='<table class="'+e.tableClass+'">'),a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,o=this.data,e.pivot)s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,r+="\n<tbody>",x.JE(a,(function(t,i){var n=[];e.addColumnNames&&n.push(i);for(var a=o.length,s=0;s<a;s++){var d=o[s][t];n.push(u.convertToSpecialFormat(t,d,e,!0))}r+="\n"+u.getHTMLRow(n,e,void 0,!0)}),(function(t,e){var i=s.indexOf(t),r=s.indexOf(e);return i>r?-1:i<r?1:0})),r+="\n</tbody>";else{for(e.addColumnNames&&(r+="\n<thead>\n"+this.getHTMLRow(a,e,void 0,!0,!0)+"\n</thead>"),r+="\n<tbody>",d=o.length,l=0;l<d;l++)r+="\n"+this.getHTMLRow(o[l],e,a);r+="\n</tbody>"}return r+="\n</table>",p=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getHTML",{data:i?"data:"+this.getContentType(t)+";"+p+","+encodeURIComponent(r):r,options:e}).data]}))}))},e.prototype.getHTMLRow=function(t,e,i,r,n){var a=this;void 0===r&&(r=!1),void 0===n&&(n=!1);var o="\t<tr>";e.rowClass&&(o='\t<tr class="'+e.rowClass+'">'),i||(i=t);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,d=n?"th":"td",l=!0;return x.JE(i,(function(i,n){var s=a.convertEmptyValue(i,t[i],e),p=r?s:a.convertToSpecialFormat(i,s,e);p=(p=""+p).replace(/[\u00A0-\u9999<>\&]/gim,(function(t){return"&#"+t.charCodeAt(0)+";"}));var u=d;e.pivot&&l&&(u="th"),e.cellClass?o+="\n\t\t<"+u+' class="'+e.cellClass+'">'+p+"</"+u+">":o+="\n\t\t<"+u+">"+p+"</"+u+">",l=!1}),(function(t,e){var i=s.indexOf(t),r=s.indexOf(e);return i>r?1:i<r?-1:0})),o+="\n\t</tr>"},e.prototype.getJSON=function(t,e,i){return void 0===i&&(i=!0),(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s,d,l,p,u,h=this;return(0,n.Jh)(this,(function(n){if(S.Uh(e)||(e=this.getFormatOptions("json")),a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)r=this.data;else for(r=[],o=this.data,s=function(t,i){var n=o[i];if("object"==typeof n){var s={};x.S6(n,(function(t,i){S.Uh(a[t])&&(s[a[t]]=h.convertToSpecialFormat(t,i,e))})),r.push(s)}},d=o.length,l=0;l<d;l++)s(0,l);return p=JSON.stringify(r,(function(t,i){return"object"==typeof i&&x.S6(i,(function(t,r){i[t]=h.convertToSpecialFormat(t,r,e)})),i}),e.indent),u=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getJSON",{data:i?"data:"+this.getContentType(t)+";"+u+","+encodeURIComponent(p):p,options:e}).data]}))}))},e.prototype.convertToSpecialFormat=function(t,e,i,r){if("number"==typeof e)if(this.isDateField(t))e=new Date(e);else{if(this.isDurationField(t))return this.durationFormatter.format(e,this.durationFormat);if(this.isNumberField(t)&&this.numberFormat)return this.numberFormatter.format(e,this.numberFormat)}return e instanceof Date?i.useTimestamps?e=e.getTime():i.useLocale?r||(e=e.toLocaleString()):e=this.dateFormatter.format(e,this.dateFormat):S.HD(e)&&this.isDateField(t)&&this.dateFormat&&(e=this.dateFormatter.format(this.dateFormatter.parse(e),this.dateFormat)),e},e.prototype.convertEmptyValue=function(t,e,i){return S.Uh(e)?e:i.emptyAs},e.prototype.download=function(t,e){return(0,n.mG)(this,void 0,void 0,(function(){var i,r,a,o,s,d,l,p,u,h,c,m,f,g,y;return(0,n.Jh)(this,(function(n){if(this.msBlobDownloadSupport()){if(m=t.split(";"),f=m.shift().replace(/data:/,""),t=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(f))return i=new Blob([t],{type:f}),window.navigator.msSaveBlob(i,e),[2,!0];try{a=atob(t),t=a}catch(v){return[2,!1]}for(d=new Array(t.length),l=0;l<t.length;++l)p=t.charCodeAt(l),d[l]=p;u=new Blob([new Uint8Array(d)],{type:f}),window.navigator.msSaveBlob(u,e)}else if(this.blobDownloadSupport()){if((r=document.createElement("a")).download=e,document.body.appendChild(r),m=t.split(";"),f=m.shift().replace(/data:/,""),t=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(f))return o=new Blob([t],{type:f}),s=window.URL.createObjectURL(o),r.href=s,r.download=e,r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),100),[2,!0];try{a=atob(t),t=a}catch(v){return[2,!1]}for(d=new Array(t.length),l=0;l<t.length;++l)p=t.charCodeAt(l),d[l]=p;u=new Blob([new Uint8Array(d)],{type:f}),h=window.URL.createObjectURL(u),r.href=h,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){window.URL.revokeObjectURL(h)}),100)}else this.linkDownloadSupport()?((c=document.createElement("a")).download=e,c.href=t,document.body.appendChild(c),c.click(),document.body.removeChild(c)):this.legacyIE()?4===(m=t.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==m[2]?m[1].match(/^image\//)&&this.showModal('<img src="'+t+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(f=void 0,e.match(/\.svg$/)?f="image/svg+xml":(f="text/plain",e+=".txt"),(g=document.createElement("iframe")).width="1px",g.height="1px",g.style.display="none",document.body.appendChild(g),(y=g.contentDocument).open(f,"replace"),y.write(decodeURIComponent(m[3])),y.close(),y.execCommand("SaveAs",!0,e),document.body.removeChild(g))):window.location.href=t;return[2,!0]}))}))},e.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},e.prototype.linkDownloadSupport=function(){var t=y.i.getCache("linkDownloadSupport");if(!1===t||!0===t)return t;var e="undefined"!==typeof document.createElement("a").download;return y.i.setCache("linkDownloadSupport",e),e},e.prototype.blobDownloadSupport=function(){return S.Uh(window.Blob)},e.prototype.msBlobDownloadSupport=function(){return S.Uh(window.navigator.msSaveOrOpenBlob)},e.prototype.legacyIE=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==t.getElementsByTagName("i").length},e.prototype.print=function(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(r){return"css"==e.printMethod?[2,this.printViaCSS(t,e,i)]:[2,this.printViaIframe(t,e,i)]}))}))},e.prototype.printViaCSS=function(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a,o,s;return(0,n.Jh)(this,(function(n){return r=document.documentElement.scrollTop||document.body.scrollTop,a=new b.u0(b.Ay(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),i&&document&&document.title&&(o=document.title,document.title=i),(s=new Image).src=t,s.style.maxWidth="100%",s.style.display="block",s.style.position="relative",s.style.visibility="visible",s.style.opacity="1",s.style.clipPath="none",document.body.appendChild(s),this.setTimeout((function(){window.print()}),50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout((function(){document.body.removeChild(s),a.dispose(),o&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=r}),e.delay||500),[2,!0]}))}))},e.prototype.printViaIframe=function(t,e,i){return(0,n.mG)(this,void 0,void 0,(function(){var r,a;return(0,n.Jh)(this,(function(n){return(r=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(r),r.contentWindow.document.open(),r.contentWindow.document.close(),(a=new Image).src=t,a.style.maxWidth="100%",a.style.height="auto",i&&(r.contentWindow.document.title=i),r.contentWindow.document.body.appendChild(a),r.load=function(){r.contentWindow.document.body.appendChild(a)},this.setTimeout((function(){try{r.contentWindow.document.execCommand("print",!1,null)||r.contentWindow.print()}catch(t){r.contentWindow.print()}}),e.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout((function(){document.body.removeChild(r)}),e.delay+50||100),[2,!0]}))}))},e.prototype.findBackgroundColor=function(t){var e=1,i=(0,b.Dx)(t,"background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==i)&&(e=0),0==e){var r=t.parentElement;return r?this.findBackgroundColor(r):(0,g.$_)("#fff")}return(0,g.$_)(i,e)},Object.defineProperty(e.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(t){this._container=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(t){this._sprite=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(t){this._extraSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(t){this._validateSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(t){this._dataFields=t,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),e.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var t=this.data.length>0;this._prevHasData!=t&&(this._prevHasData=t,this.menu&&this.menu.invalidate())},Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new u.C,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(t){this._dateFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(t){this._dateFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new l.aV),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(t){this._dateFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new c.e,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(t){this._numberFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(t){this._numberFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new l.aV),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(t){this._numberFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new h.$,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(t){this._durationFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(t){this._durationFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new l.aV),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(t){this._durationFields=t},enumerable:!0,configurable:!0}),e.prototype.generateDataFields=function(){var t=this;this._dataFields={},this.data.length&&C.S6(this.data,(function(e){x.S6(e,(function(e,i){S.Uh(t._dataFields[e])||(t._dataFields[e]=t.adapter.apply("dataFieldName",{name:e,field:e}).name)}))}))},e.prototype.isDateField=function(t){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(t),field:t}).isDateField},e.prototype.isNumberField=function(t){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(t),field:t}).isNumberField},e.prototype.isDurationField=function(t){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(t),field:t}).isDurationField},e.prototype.getContentType=function(t){var e="";switch(t){case"png":case"gif":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"svg":e="image/svg+xml";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}return this.adapter.apply("contentType",{contentType:e,type:t}).contentType},Object.defineProperty(e.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(t){this._filePrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(t){this._backgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),e.prototype.showPreloader=function(){var t=this.preloader;t&&(t.progress=.5,t.label.text="...")},e.prototype.hidePreloader=function(){var t=this.preloader;t&&(t.progress=1)},Object.defineProperty(e.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),e.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},e.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(e.prototype,"language",{get:function(){return this._language||(this._language=new m.S),this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal||(this._modal=new d.u,this._modal.adapter.add("classPrefix",(function(t){return t=v.Y.classNamePrefix+t}))),this._modal},enumerable:!0,configurable:!0}),e.prototype.showModal=function(t,e){this.hideModal(),this.hidePreloader();var i=this.modal;i.container=this.sprite.svgContainer.SVGContainer,i.content=t,i.readerTitle=e,i.open()},e.prototype.hideModal=function(){this._modal&&this.modal.close()},e.prototype._canvg=function(){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([i.e(1577),i.e(2691),i.e(2265)]).then(i.bind(i,54617))];case 1:return null!=(t=e.sent()).default?[2,t.default]:[2,t]}}))}))},Object.defineProperty(e.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfmake",{get:function(){return null==r&&(r=function(){return(0,n.mG)(this,void 0,void 0,(function(){var t,e,r,a;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([Promise.all([i.e(7270),i.e(1715)]).then(i.t.bind(i,36727,23)),Promise.all([i.e(7270),i.e(1715)]).then(i.bind(i,54995))])];case 1:return t=n.sent(),e=t[0],r=t[1],(a=window).pdfMake=a.pdfMake||{},a.pdfMake.vfs=r.default,e.vfs=r.default,[2,e]}}))}))}()),r},enumerable:!0,configurable:!0}),e.prototype._xlsx=function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:return[4,Promise.all([i.e(2599),i.e(4849),i.e(3524),i.e(4297)]).then(i.t.bind(i,7869,23))];case 1:return[2,t.sent()]}}))}))},Object.defineProperty(e.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),e.prototype.setFormatOptions=function(t,e){this._formatOptions.setKey(t,e)},e.prototype.getFormatOptions=function(t){return this._formatOptions.getKey(t)},Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),e.prototype._disablePointers=function(){S.Uh(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},e.prototype._releasePointers=function(){S.Uh(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},e.prototype.hideNonExportableSprites=function(){var t=this;if(!this._objectsAlreadyHidden){var e=this.sprite.svgContainer;e&&C.S6(e.nonExportableSprites,(function(e){e.isHidden||e.isHiding||!e.visible||t._hiddenObjects.push(e),e.hide(0)})),this._objectsAlreadyHidden=!0}},e.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(C.S6(this._hiddenObjects,(function(t){t.show(0)})),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},e.prototype.awaitValidSprites=function(){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(e){switch(e.label){case 0:return t=[],this.validateSprites.length&&C.S6(this.validateSprites,(function(e,i){e.invalid&&t.push(new Promise((function(t,i){e.events.once("validated",(function(e){t()}))})))})),t.length?[4,Promise.all(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.processConfig=function(e){y.i.registeredClasses.ExportMenu=a.G,e&&(S.Uh(e.menu)&&!S.Uh(e.menu.type)&&(e.menu.type="ExportMenu"),S.Uh(e.dataFields)&&S.Kn(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),t.prototype.processConfig.call(this,e)},e.XLINK="http://www.w3.org/1999/xlink",e}(f.c)}}]);