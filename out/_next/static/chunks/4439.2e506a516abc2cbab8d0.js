(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4439],{66856:function(e,t,n){"use strict";var r=n(22122),i=n(2949),o=n(67294),a=(n(45697),n(86010)),l=n(52543),s=o.forwardRef((function(e,t){var n=e.disableSpacing,l=void 0!==n&&n,s=e.classes,c=e.className,d=(0,i.Z)(e,["disableSpacing","classes","className"]);return o.createElement("div",(0,r.Z)({className:(0,a.Z)(s.root,c,!l&&s.spacing),ref:t},d))}));t.Z=(0,l.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},29525:function(e,t,n){"use strict";var r=n(22122),i=n(2949),o=n(67294),a=(n(45697),n(86010)),l=n(52543),s=o.forwardRef((function(e,t){var n=e.classes,l=e.className,s=e.dividers,c=void 0!==s&&s,d=(0,i.Z)(e,["classes","className","dividers"]);return o.createElement("div",(0,r.Z)({className:(0,a.Z)(n.root,l,c&&n.dividers),ref:t},d))}));t.Z=(0,l.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},64402:function(e,t,n){"use strict";var r=n(67294),i=n(63786);t.Z=(0,i.Z)(r.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},84565:function(e,t,n){"use strict";var r=n(67294),i=n(63786);t.Z=(0,i.Z)(r.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},61139:function(e,t,n){"use strict";var r=n(95318),i=n(20862);t.Z=void 0;var o=i(n(67294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.Z=a},69193:function(e,t,n){"use strict";var r=n(95318),i=n(20862);t.Z=void 0;var o=i(n(67294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone");t.Z=a},83817:function(e,t,n){"use strict";var r=n(95318),i=n(20862);t.Z=void 0;var o=i(n(67294)),a=(0,r(n(2108)).default)(o.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.Z=a},12011:function(e,t,n){"use strict";var r=n(26265),i=n(85893),o=n(38347),a=(n(67294),n(64436)),l=n(96394),s=n(110),c=n(85639),d=n(45697),u=n.n(d),p=n(30585),h=n(41120),f=n(86010);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=(0,h.Z)((function(e){return{formControlRoot:{"& .MuiOutlinedInput-input":{paddingTop:10.5,paddingBottom:10.5,backgroundColor:"transparent",borderRadius:4},"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.grey[400]}}}})),j=function(e){var t=x(e),n=e.data,r=e.renderRow,d=e.placeholder,u=e.name,h=e.id,m=e.fullWidth,j=e.displayEmpty,v=e.size,Z=e.value,b=e.required,y=e.onChange,C=e.helperText,w=e.variant,S=e.error,T=e.valueKey,O=e.labelKey,k=(e.backgroundColor,e.label),R=(0,o.Z)(e,["data","renderRow","placeholder","name","id","fullWidth","displayEmpty","size","value","required","onChange","helperText","variant","error","valueKey","labelKey","backgroundColor","label"]);return(0,i.jsxs)(a.Z,{variant:w,size:v,fullWidth:m,required:b,className:(0,f.Z)(t.formControlRoot,"form-control"),children:[k&&(0,i.jsx)(l.Z,{id:"label-"+h||0,children:k}),(0,i.jsxs)(s.Z,g(g({},R),{},{name:u,labelId:"label-"+h||0,id:h||u,value:Z,onChange:y,label:k?b?k+" *":k:null,error:S||""!==C,displayEmpty:j,children:[d&&j&&(0,i.jsx)(c.Z,{value:"",children:d}),n.map((function(e,t){return r?r(e,t):(0,i.jsx)(c.Z,{value:T?e[T]:e,children:e[O]},t)}))]})),C&&(0,i.jsx)(p.Z,{error:S||""!==C,children:C})]})};j.prototype={data:u().array.isRequired,renderRow:u().node,placeholder:u().string,valueKey:u().string,labelKey:u().string,name:u().string,id:u().string,fullWidth:u().bool,displayEmpty:u().bool,required:u().bool,value:u().string,variant:u().string,size:u().string,onChange:u().func,error:u().bool,helperText:u().bool,backgroundColor:u().string},j.defaultProps={data:[],fullWidth:!0,displayEmpty:!0,required:!1,size:"small",error:!1,helperText:"",valueKey:"id",labelKey:"title",backgroundColor:"transparent"},t.Z=j},52491:function(e,t,n){"use strict";var r=n(26265),i=n(85893),o=n(38347),a=(n(67294),n(39803)),l=n(45697),s=n.n(l);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.type,n=e.name,r=e.id,l=e.fullWidth,s=e.size,c=e.value,u=e.onChange,p=e.helperText,h=e.variant,f=e.error,m=(0,o.Z)(e,["type","name","id","fullWidth","size","value","onChange","helperText","variant","error"]);return(0,i.jsx)(a.Z,d(d({},m),{},{type:t,name:n,id:r||n,size:s,fullWidth:l,value:c,variant:h,onChange:u,error:f||""!==p,helperText:p}))};u.prototype={type:s().string,name:s().string,id:s().string,fullWidth:s().bool,value:s().string,variant:s().string,size:s().string,onChange:s().func,error:s().bool,helperText:s().bool},u.defaultProps={type:"text",fullWidth:!0,size:"small",error:!1,helperText:""},t.Z=u},8608:function(e,t,n){"use strict";n.d(t,{Bw:function(){return r},Eb:function(){return i}});var r="This field is required!",i="Email is not valid!"},84015:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Qe}});var r=n(85893),i=n(64121),o=n(67294),a=n(79895),l=n(56847),s=n(82302),c=n(57394),d=n(17196),u=n(99613),p=n(61657),h=n(13258),f=n(43682),m=n(63786),g=(0,m.Z)(o.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),x=n(30387),j=(0,m.Z)(o.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Mail"),v=(0,m.Z)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block"),Z=(0,m.Z)(o.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline"),b=(0,m.Z)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),y=(0,m.Z)(o.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),C=n(1747),w=n(88241),S=n(28889),T=n(22318),O=n(41120),k=n(14494),R=n(10684),P=n(9669),z=n.n(P),E=n(3922),N=function(e){return function(t){t({type:E.Lj,payload:e})}},D=function(e,t){return function(n){n((0,R.T9)()),z().put("/users/update-status",e).then((function(e){200===e.status?(n((0,R.Vj)("User status was updated successfully.")),n({type:E.GI,payload:e.data}),t&&t(e.data)):n((0,R.Tl)("There was something issue in responding server."))})).catch((function(e){n((0,R.Tl)("There was something issue in responding server"))}))}},I=(0,O.Z)((function(e){return{titleRoot:{marginBottom:2,fontSize:14,letterSpacing:.25,color:e.palette.common.dark}}})),L=function(e){var t=e.row,n=e.isSelected,i=e.onRowClick,o=e.onUserEdit,a=e.onUserDelete,l=e.onUserView,s=I(),u=(0,k.I0)(),p="enhanced-table-checkbox-".concat(t.id),m=n(t.id),O=function(e){var t=[{action:"view",label:"View",icon:(0,r.jsx)(g,{})},{action:"edit",label:"Edit",icon:(0,r.jsx)(x.Z,{})},{action:"email",label:"Email",icon:(0,r.jsx)(j,{})}];return"active"===e.status?t.push({action:"suspend",label:"Suspend",icon:(0,r.jsx)(v,{})}):t.push({action:"activate",label:"Reactivate",icon:(0,r.jsx)(Z,{})}),t.push({action:"delete",label:"Delete",icon:(0,r.jsx)(b,{})}),t}(t);return(0,r.jsxs)(c.Z,{hover:!0,onClick:function(e){return i(e,t.id)},role:"checkbox","aria-checked":m,tabIndex:-1,selected:m,children:[(0,r.jsx)(d.Z,{padding:"checkbox",children:(0,r.jsx)(h.Z,{checked:m,inputProps:{"aria-labelledby":p}})}),(0,r.jsx)(d.Z,{component:"th",id:p,scope:"row",padding:"none",children:(0,r.jsxs)(S.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)(S.Z,{mr:{xs:4,md:5},children:(0,r.jsx)(w.Z,{size:40,src:t.profile_pic,alt:t.name})}),(0,r.jsx)("div",{children:(0,r.jsx)(T.Z,{className:s.titleRoot,component:"div",variant:"h4",children:t.name})})]})}),(0,r.jsx)(d.Z,{children:t.email}),(0,r.jsx)(d.Z,{children:"suspended"===t.status?"Suspended by ".concat(t.suspendedBy," (").concat((0,f.Yu)(t.suspendedAt),")"):t.status}),(0,r.jsx)(d.Z,{children:(0,f.Yu)(t.lastLoginAt)}),(0,r.jsxs)(d.Z,{align:"right",children:[t.emailUsage," GB"]}),(0,r.jsx)(d.Z,{align:"center",onClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(C.Z,{items:O,onItemClick:function(e){"view"===e.action?l(t):"edit"===e.action?o(t):"email"===e.action?u((function(e){e((0,R.Vj)("Email has been sent to user successfully"))})):"suspend"===e.action?u(D({id:t.id,status:"suspended"})):"activate"===e.action?u(D({id:t.id,status:"active"})):"delete"===e.action&&a(t)},TriggerComponent:(0,r.jsx)(y,{})})})]},t.id)},M=o.memo(L),W=n(83750),V=n(77256),A=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"lastLoginAt",numeric:!1,disablePadding:!1,label:"Last Login"},{id:"emailUsage",numeric:!0,disablePadding:!1,label:"Email Usage"}];function B(e){var t=e.classes,n=e.onSelectAllClick,i=e.order,o=e.orderBy,a=e.numSelected,l=e.rowCount,s=e.onRequestSort;return(0,r.jsx)(W.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.Z,{padding:"checkbox",children:(0,r.jsx)(h.Z,{indeterminate:a>0&&a<l,checked:l>0&&a===l,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),A.map((function(e){return(0,r.jsx)(d.Z,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:o===e.id&&i,children:(0,r.jsxs)(V.Z,{active:o===e.id,direction:o===e.id?i:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:[e.label,o===e.id?(0,r.jsx)("span",{className:t.visuallyHidden,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),(0,r.jsx)(d.Z,{align:"center",children:"Actions"})]})})}var U=o.memo(B),q=n(26265),K=n(59999),F=n(28358),H=n(86010),_=n(868),G=n(17812),Y=n(28428),J=n(85963),$=n(282),Q=n(71267),X=n(38396),ee=n(85639),te=n(52663),ne=n(66083),re=n(29525),ie=n(7212),oe=n(66856),ae=n(32427),le=(0,ae.Z)((function(e){return{dialogRoot:{position:"relative"},dialogTitleRoot:{"& .MuiTypography-h6":{fontSize:16,color:e.palette.common.dark}},dialogActionsRoot:{padding:"16px 24px"}}})),se=function(e){var t=e.open,n=e.onClose,i=e.onConfirm,o=e.title,a=e.content,l=e.btnLabels,s=le();return(0,r.jsxs)(te.Z,{open:t,onClose:n,"aria-labelledby":"confirm-dialog-title",className:s.dialogRoot,children:[(0,r.jsx)(ne.Z,{id:"confirm-dialog-title",className:s.dialogTitleRoot,children:o}),(0,r.jsx)(re.Z,{dividers:!0,children:(0,r.jsx)(ie.Z,{children:a})}),(0,r.jsxs)(oe.Z,{classes:{root:s.dialogActionsRoot},children:[(0,r.jsx)($.Z,{onClick:n,color:"primary",variant:"outlined",children:l.cancel}),(0,r.jsx)($.Z,{onClick:i,color:"primary",variant:"contained",children:l.confirm})]})]})};se.defaultProps={open:!1,title:"Confirm Delete",btnLabels:{cancel:"Cancel",confirm:"Confirm"}};var ce=o.memo(se),de=n(98964),ue=n(59693),pe=(0,O.Z)((function(e){return{root:{paddingLeft:e.spacing(4),paddingRight:e.spacing(2)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,ue.Fq)(e.palette.secondary.light,.15)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},chipsRoot:{display:"flex",justifyContent:"center",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),"& > *":{margin:e.spacing(.5)}}}})),he=[{label:"Active",value:"active"},{label:"Suspended",value:"suspended"}],fe=function(e){var t=e.selected,n=e.setSelected,a=e.onUserAdd,l=e.filterOptions,s=e.setFilterOptions,c=e.searchTerm,d=e.setSearchTerm,u=pe(),p=(0,o.useState)(!1),f=p[0],m=p[1],g=o.useState(null),x=(0,i.Z)(g,2),j=x[0],v=x[1],Z=(0,k.I0)(),b=t.length;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(F.Z,{className:(0,H.Z)(u.root,(0,q.Z)({},u.highlight,b>0)),children:[b>0?(0,r.jsxs)(T.Z,{className:u.title,color:"inherit",variant:"subtitle1",component:"div",children:[b," selected"]}):(0,r.jsxs)(T.Z,{className:u.title,variant:"h4",id:"tableTitle",component:"div",children:["Users"," ",(0,r.jsx)($.Z,{color:"primary",onClick:function(){return a(!0)},children:"Add New User"})]}),b>0?(0,r.jsx)(_.ZP,{title:"Delete",children:(0,r.jsx)(G.Z,{"aria-label":"delete",onClick:function(){m(!0)},children:(0,r.jsx)(Y.Z,{})})}):(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(de.Z,{onChange:function(e){return d(e.target.value)},value:c,border:!1,onlyIcon:!0}),(0,r.jsxs)("div",{className:u.chipsRoot,children:[c&&(0,r.jsx)(Q.Z,{label:c,onDelete:function(){return d("")}}),he.map((function(e,t){return l.includes(e.value)&&(0,r.jsx)(Q.Z,{label:e.label,onDelete:function(){return function(e){s(l.filter((function(t){return t!==e.value})))}(e)}},t)}))]}),(0,r.jsx)(_.ZP,{title:"Filter list",children:(0,r.jsx)(G.Z,{"aria-label":"filter list",onClick:function(e){v(e.currentTarget)},children:(0,r.jsx)(J.Z,{})})}),(0,r.jsx)(X.Z,{transformOrigin:{vertical:"top",horizontal:"right"},anchorEl:j,open:Boolean(j),onClose:function(){v(null)},children:he.map((function(e,t){return(0,r.jsxs)(ee.Z,{onClick:function(){return function(e){s((function(t){return t.includes(e.value)?t.filter((function(t){return t!==e.value})):[].concat((0,K.Z)(t),[e.value])}))}(e)},children:[(0,r.jsx)(h.Z,{checked:l.includes(e.value),inputProps:{"aria-labelledby":e.label}}),e.label]},t)}))})]})]}),(0,r.jsx)(ce,{open:f,title:"Confirm delete users",content:"Are you sure, you want to  delete selected users?",onClose:function(){m(!1)},onConfirm:function(){var e,r;m(!1),Z((e=t,r=function(){return n([])},function(t){t((0,R.T9)()),z().put("/users/bulk-delete",{userIds:e}).then((function(n){200===n.status?(t((0,R.Vj)("Selected users were deleted successfully.")),t({type:E.T,payload:e}),r&&r()):t((0,R.Tl)("There was something issue in responding server."))})).catch((function(e){t((0,R.Tl)("There was something issue in responding server"))}))}))}})]})},me=o.memo(fe);function ge(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function xe(e,t){return"desc"===e?function(e,n){return ge(e,n,t)}:function(e,n){return-ge(e,n,t)}}function je(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}var ve=n(38347),Ze=n(67757),be=n(41749),ye=n(52491),Ce=n(13356),we=n(91482),Se=n(12011),Te=n(8608),Oe=n(57333),ke=n(45697),Re=n.n(ke),Pe=n(61139),ze=n(47298),Ee=n(51855);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,q.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=(0,ae.Z)((function(e){return{dialogRoot:{position:"relative"},dialogTitleRoot:{"& .MuiTypography-h6":{fontSize:16,color:e.palette.common.dark}}}}));function Le(e){var t=e.onChange,n=(0,ve.Z)(e,["onChange"]);return(0,r.jsx)(Oe.Z,De(De({},n),{},{onValueChange:function(e){t(e.formattedValue)},format:"(###) ###-####"}))}var Me=[{title:"Home",slug:"home"},{title:"Office",slug:"office"},{title:"Other",slug:"other"}],We=function(e){var t=e.open,n=e.onCloseDialog,a=Ie(),l=(0,k.v9)((function(e){return e.usersReducer})).currentUser,s=(0,o.useState)(""),c=s[0],d=s[1],u=(0,o.useState)(""),p=u[0],h=u[1],f=(0,o.useState)(""),m=f[0],g=f[1],x=(0,o.useState)(""),j=x[0],v=x[1],Z=(0,o.useState)(""),b=Z[0],y=Z[1],C=(0,o.useState)(""),T=C[0],O=C[1],P=(0,o.useState)([{phone:"",label:"home"}]),N=P[0],D=P[1],I=(0,o.useState)(""),L=I[0],M=I[1],W=(0,o.useState)(""),V=W[0],A=W[1],B=(0,o.useState)(""),U=B[0],q=B[1],F=(0,Ce.u)({accept:"image/*",onDrop:function(e){v(URL.createObjectURL(e[0]))}}),H=F.getRootProps,_=F.getInputProps,Y=(0,k.I0)();(0,o.useEffect)((function(){if(l){var e=function(e){if(e){var t=e.name.split(" "),n=(0,i.Z)(t,3),r=n[0],o=n[1],a=n[2];return[r,a?o+" "+a:o]}return["",""]}(l),t=(0,i.Z)(e,2),n=t[0],r=t[1];d(n),h(r),v(l.profile_pic),g(l.email),y(l.company),O(l.designation),D(l.phones)}}),[l]);var J=function(e){var t,r,i={profile_pic:j,name:"".concat(c," ").concat(p),email:m,phones:e,company:b,designation:T};Y(l?(t=De(De({},l),i),r=function(){n()},function(e){e((0,R.T9)()),z().put("/users",t).then((function(t){200===t.status?(e((0,R.Vj)("Selected user was updated successfully.")),e({type:E.GI,payload:t.data}),r&&r(t.data)):e((0,R.Tl)("There was something issue in responding server."))})).catch((function(t){e((0,R.Tl)("There was something issue in responding server"))}))}):function(e,t){return function(n){n((0,R.T9)()),z().post("/users",e).then((function(e){200===e.status?(n((0,R.Vj)("New user was added successfully.")),n({type:E.jN,payload:e.data}),t&&t(e.data)):n((0,R.Tl)("There was something issue in responding server."))})).catch((function(e){n((0,R.Tl)("There was something issue in responding server"))}))}}(i,(function(){n()})))},Q=N.length>1;return(0,r.jsxs)(te.Z,{open:t,onClose:n,className:a.dialogRoot,children:[(0,r.jsx)(ne.Z,{className:a.dialogTitleRoot,children:l?"Edit User Details":"Create New User"}),(0,r.jsxs)(re.Z,{dividers:!0,children:[(0,r.jsxs)(S.Z,{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:"center",mb:{xs:6,md:5},children:[(0,r.jsxs)(S.Z,De(De({},H()),{},{mr:{xs:0,md:5},mb:{xs:3,md:0},className:"pointer",children:[(0,r.jsx)("input",De({},_())),(0,r.jsx)(w.Z,{size:70,src:j})]})),(0,r.jsxs)(Ze.Z,{children:[(0,r.jsx)(be.Z,{item:!0,xs:12,sm:6,children:(0,r.jsx)(ye.Z,{fullWidth:!0,variant:"outlined",label:"First name",value:c,onChange:function(e){d(e.target.value),M("")},helperText:L})}),(0,r.jsx)(be.Z,{item:!0,xs:12,sm:6,children:(0,r.jsx)(ye.Z,{fullWidth:!0,variant:"outlined",label:"Last name",value:p,onChange:function(e){return h(e.target.value)}})})]})]}),(0,r.jsx)(S.Z,{mb:{xs:6,md:5},children:(0,r.jsx)(ye.Z,{fullWidth:!0,variant:"outlined",label:"Email Address",value:m,onChange:function(e){g(e.target.value),A("")},helperText:V})}),(0,r.jsx)(we.Z,{data:N,renderRow:function(e,t){return(0,r.jsxs)(Ze.Z,{style:{marginBottom:12},children:[(0,r.jsx)(be.Z,{item:!0,xs:12,sm:Q?6:8,children:(0,r.jsx)(ye.Z,{fullWidth:!0,variant:"outlined",label:"Phone",value:e.phone,onChange:function(e){return function(e,t){var n=(0,K.Z)(N);n[t].phone=e,D(n),q("")}(e,t)},helperText:U,InputProps:{inputComponent:Le}})}),(0,r.jsx)(be.Z,{item:!0,xs:Q?10:12,sm:4,children:(0,r.jsx)(Se.Z,{fullWidth:!0,data:Me,label:"Label",valueKey:"slug",variant:"outlined",labelKey:"title",value:e.label,onChange:function(e){return function(e,t){var n=(0,K.Z)(N);n[t].label=e,D(n)}(e.target.value,t)}})}),t>0&&(0,r.jsx)(be.Z,{item:!0,xs:2,sm:2,children:(0,r.jsx)(G.Z,{onClick:function(){return function(e){var t=(0,K.Z)(N);t.splice(e,1),D(t)}(t)},children:(0,r.jsx)(ze.Z,{})})})]},t)}}),(0,r.jsxs)(S.Z,{mb:{xs:6,md:5},display:"flex",alignItems:"center",onClick:function(){D(N.concat({phone:"",label:"home"}))},className:"pointer",color:"primary.main",children:[(0,r.jsx)(Pe.Z,{}),(0,r.jsx)(S.Z,{ml:2,children:"Add More"})]}),(0,r.jsxs)(Ze.Z,{style:{marginBottom:12},children:[(0,r.jsx)(be.Z,{item:!0,xs:12,sm:6,children:(0,r.jsx)(ye.Z,{fullWidth:!0,variant:"outlined",label:"Company name",value:b,onChange:function(e){return y(e.target.value)}})}),(0,r.jsx)(be.Z,{item:!0,xs:12,sm:6,children:(0,r.jsx)(ye.Z,{fullWidth:!0,variant:"outlined",label:"Job title",value:T,onChange:function(e){return O(e.target.value)}})})]}),(0,r.jsxs)(S.Z,{display:"flex",justifyContent:"flex-end",mb:4,children:[(0,r.jsx)($.Z,{onClick:n,children:"Cancel"}),(0,r.jsx)(S.Z,{ml:2,children:(0,r.jsx)($.Z,{variant:"contained",color:"primary",onClick:function(){var e=N.filter((function(e){return e.phone.trim()}));c?m?(0,Ee.vV)(m)?0===e.length?q(Te.Bw):J(e):A(Te.Eb):A(Te.Bw):M(Te.Bw)},children:"Save"})})]})]})]})},Ve=We;We.prototype={open:Re().bool.isRequired,onCloseDialog:Re().func};var Ae=(0,O.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(4),backgroundColor:(0,ue.$n)(e.palette.background.paper,.1)},container:{maxHeight:415},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Be=n(83817),Ue=n(85984),qe=n(35996),Ke=n(63781),Fe=n(69193),He=(0,O.Z)((function(e){return{dialogRoot:{position:"relative","& .MuiDialog-paperWidthSm":{width:"100%"}},userInfoRoot:(0,q.Z)({borderBottom:"1px solid ".concat(e.palette.borderColor.main),padding:"20px 24px",display:"flex",flexDirection:"column"},e.breakpoints.up("md"),{flexDirection:"row"}),avatarView:(0,q.Z)({},e.breakpoints.down("sm"),{"& .Cmt-avatar-size":{width:40,height:40}}),titleRoot:(0,q.Z)({fontSize:16,color:e.palette.common.dark,fontWeight:e.typography.fontWeightBold},e.breakpoints.up("md"),{fontSize:18}),subTitleRoot:{fontSize:12,letterSpacing:.4,color:e.palette.text.secondary},labelRoot:{backgroundColor:(0,ue.Fq)(e.palette.common.dark,.05),color:e.palette.text.disabled,padding:"4px 10px",borderRadius:4,textTransform:"capitalize"}}})),_e=function(e){var t=e.open,n=e.onCloseDialog,i=He(),o=(0,k.v9)((function(e){return e.usersReducer})).currentUser,a=o.name,l=o.email,s=o.status,c=o.phones,d=o.company,u=o.designation,p=o.profile_pic,f=o.starred;return(0,r.jsxs)(te.Z,{open:t,onClose:n,className:i.dialogRoot,children:[(0,r.jsxs)(S.Z,{className:i.userInfoRoot,children:[(0,r.jsxs)(S.Z,{mr:3,display:"flex",alignItems:"center",children:[(0,r.jsx)(S.Z,{className:i.avatarView,mr:{xs:4,md:6},children:(0,r.jsx)(w.Z,{size:70,src:p,alt:a})}),(0,r.jsxs)(S.Z,{mt:-2,children:[(0,r.jsxs)(S.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)(T.Z,{className:i.titleRoot,children:a}),(0,r.jsx)(S.Z,{ml:1,children:(0,r.jsx)(h.Z,{icon:(0,r.jsx)(Be.Z,{}),checkedIcon:(0,r.jsx)(Ue.Z,{style:{color:"#FF8C00"}}),checked:f})})]}),(u||d)&&(0,r.jsxs)(S.Z,{mt:-1,children:[u&&(0,r.jsx)(T.Z,{className:i.subTitleRoot,children:u}),d&&(0,r.jsxs)(T.Z,{className:i.subTitleRoot,children:["@",d]})]})]})]}),(0,r.jsxs)(S.Z,{ml:"auto",mt:-2,display:"flex",alignItems:"center",children:[(0,r.jsx)(S.Z,{ml:1,children:(0,r.jsx)(_.ZP,{title:s,children:(0,r.jsxs)(G.Z,{"aria-label":"filter list",children:["suspended"===s&&(0,r.jsx)(v,{color:"primary"}),"active"===s&&(0,r.jsx)(Z,{color:"primary"})]})})}),(0,r.jsx)(S.Z,{ml:1,children:(0,r.jsx)(G.Z,{onClick:n,children:(0,r.jsx)(qe.Z,{})})})]})]}),(0,r.jsxs)(S.Z,{px:6,py:5,children:[(0,r.jsx)(S.Z,{mb:5,component:"p",color:"common.dark",children:"Contact Detail"}),(0,r.jsxs)(S.Z,{display:"flex",alignItems:"center",mb:{xs:4,sm:7},children:[(0,r.jsx)(Ke.Z,{}),(0,r.jsx)(S.Z,{ml:5,color:"primary.main",component:"p",className:"pointer",children:l})]}),(0,r.jsxs)(S.Z,{display:"flex",alignItems:"center",mb:{xs:4,sm:5},children:[(0,r.jsx)(Fe.Z,{}),(0,r.jsx)(S.Z,{ml:5,children:(0,r.jsx)(we.Z,{data:c,renderRow:function(e,t){return(0,r.jsxs)(S.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)(S.Z,{color:"text.secondary",children:e.phone}),(0,r.jsx)(S.Z,{ml:2,className:i.labelRoot,children:e.label})]},t)}})})]})]})]})},Ge=_e;_e.prototype={open:Re().bool.isRequired,onCloseDialog:Re().func};var Ye=n(89934),Je=(0,ae.Z)((function(e){return{root:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:15},emptyTitle:(0,q.Z)({fontSize:16,color:e.palette.text.disabled,fontWeight:e.typography.fontWeightBold},e.breakpoints.up("lg"),{fontSize:20})}})),$e=function(e){var t=e.children,n=Je();return(0,r.jsxs)(S.Z,{className:n.root,children:[(0,r.jsx)(S.Z,{mb:{xs:4,lg:6},children:(0,r.jsx)(Ye.Z,{src:"/images/icons/search-contact.png",alt:"Empty contacts"})}),(0,r.jsx)("p",{className:n.emptyTitle,children:t})]})},Qe=function(){var e=Ae(),t=(0,k.v9)((function(e){return e.usersReducer})).users,n=o.useState("name"),h=(0,i.Z)(n,2),f=h[0],m=h[1],g=o.useState("asc"),x=(0,i.Z)(g,2),j=x[0],v=x[1],Z=o.useState(0),b=(0,i.Z)(Z,2),y=b[0],C=b[1],w=o.useState(10),S=(0,i.Z)(w,2),T=S[0],O=S[1],P=o.useState([]),D=(0,i.Z)(P,2),I=D[0],L=D[1],W=(0,o.useState)(!1),V=W[0],A=W[1],B=(0,o.useState)(!1),q=B[0],K=B[1],F=(0,o.useState)(!1),H=F[0],_=F[1],G=(0,o.useState)({name:""}),Y=G[0],J=G[1],$=(0,o.useState)(!1),Q=$[0],X=$[1],ee=(0,o.useState)(!1),te=ee[0],ne=ee[1],re=o.useState([]),ie=(0,i.Z)(re,2),oe=ie[0],ae=ie[1],le=(0,o.useState)(""),se=le[0],de=le[1],ue=(0,Ee.Nr)(se,500),pe=(0,k.I0)();(0,o.useEffect)((function(){pe(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return function(r){r((0,R.T9)()),z().get("/users",{params:{filterOptions:e,searchTerm:t}}).then((function(e){200===e.status?(r((0,R.Vj)()),r({type:E.fo,payload:e.data}),n&&n(e.data)):r((0,R.Tl)("There was something issue in responding server."))})).catch((function(e){r((0,R.Tl)("There was something issue in responding server"))}))}}(oe,ue,(function(){ne(!!oe.length||!!ue),X(!0)})))}),[pe,oe,ue]);var he=function(e,t){var n=I.indexOf(t),r=[];-1===n?r=r.concat(I,t):0===n?r=r.concat(I.slice(1)):n===I.length-1?r=r.concat(I.slice(0,-1)):n>0&&(r=r.concat(I.slice(0,n),I.slice(n+1))),L(r)},fe=function(e){pe(N(e)),A(!0)},ge=function(e){pe(N(e)),K(!0)},ve=function(e){J(e),_(!0)},Ze=function(e){return-1!==I.indexOf(e)};return(0,r.jsxs)("div",{className:e.root,children:[(0,r.jsxs)(a.Z,{className:e.paper,children:[(0,r.jsx)(me,{selected:I,setSelected:L,onUserAdd:K,filterOptions:oe,setFilterOptions:ae,searchTerm:se,setSearchTerm:de}),(0,r.jsx)(l.Z,{className:e.container,children:(0,r.jsxs)(s.Z,{stickyHeader:!0,className:e.table,"aria-labelledby":"tableTitle","aria-label":"sticky enhanced table",children:[(0,r.jsx)(U,{classes:e,numSelected:I.length,order:j,orderBy:f,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.id}));L(n)}else L([])},onRequestSort:function(e,t){var n=f===t&&"asc"===j;m(t),v(n?"desc":"asc")},rowCount:t.length}),(0,r.jsx)(u.Z,{children:t.length?je(t,xe(j,f)).slice(y*T,y*T+T).map((function(e,t){return(0,r.jsx)(M,{row:e,onRowClick:he,onUserEdit:ge,onUserDelete:ve,onUserView:fe,isSelected:Ze},t)})):(0,r.jsx)(c.Z,{style:{height:318},children:(0,r.jsx)(d.Z,{colSpan:7,rowSpan:10,children:te?(0,r.jsx)($e,{children:"There are no records found with your filter."}):(0,r.jsx)($e,{children:Q?"There are no records found.":"Loading users..."})})})})]})}),(0,r.jsx)(p.Z,{rowsPerPageOptions:[10,20,50],component:"div",count:t.length,rowsPerPage:T,page:y,onPageChange:function(e,t){C(t)},onRowsPerPageChange:function(e){O(parseInt(e.target.value,10)),C(0)}})]}),q&&(0,r.jsx)(Ve,{open:q,onCloseDialog:function(){K(!1),pe(N(null))}}),V&&(0,r.jsx)(Ge,{open:V,onCloseDialog:function(){A(!1),pe(N(null))}}),(0,r.jsx)(ce,{open:H,title:"Confirm delete ".concat(Y.name),content:"Are you sure, you want to  delete this user?",onClose:function(){_(!1)},onConfirm:function(){var e,t;_(!1),pe((e=Y.id,function(n){n((0,R.T9)()),z().delete("/users",{params:{id:e}}).then((function(r){200===r.status?(n((0,R.Vj)("Selected user was deleted successfully.")),n({type:E.AZ,payload:e}),t&&t()):n((0,R.Tl)("There was something issue in responding server."))})).catch((function(e){n((0,R.Tl)("There was something issue in responding server"))}))}))}})]})}}}]);